<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PRECISAMOS PASSAR NISSO AMIGOS</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        #quiz-container {
            max-width: 600px;
            width: 100%;
        }
        .question {
            margin: 20px 0;
            font-weight: bold;
        }
        .option {
            margin: 10px 0;
        }
        .result, .score {
            margin-top: 20px;
            font-weight: bold;
        }
        button {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 16px;
        }
        #final-message {
            margin-top: 20px;
            font-size: 18px;
            font-weight: bold;
        }
        #restart-button {
            display: none;
        }
    </style>
</head>
<body>
    <div id="quiz-container">
        <div id="question-container"></div>
        <div id="option-container"></div>
        <button id="next-question-button">Próxima Pergunta</button>
        <button id="restart-button">Reiniciar Quiz</button>
        <div class="result" id="result"></div>
        <div class="score" id="score">Acertos: 0 | Erros: 0</div>
        <div id="final-message"></div>
    </div>

    <script>
        let questions = [
            {
                question: "Qual dos itens abaixo concede ao usuário acesso a um sistema?",
                options: [
                    "Requisição de serviço",
                    "Acordo de serviço",
                    "Consumo de serviço",
                    "Provisão de serviço"
                ],
                correctAnswer: "Provisão de serviço"
            },
            {
                question: "Qual princípio se concentra nos consumidores de serviço?",
                options: [
                    "Começar de onde você está",
                    "Otimizar e automatizar",
                    "Manter de forma simples",
                    "Foco no valor"
                ],
                correctAnswer: "Foco no valor"
            },
            {
                question: "Como os sete princípios orientadores devem ser combinados quando uma organização precisa tomar uma decisão?",
                options: [
                    "Aplicar todos os princípios orientadores igualmente ao tomar qualquer decisão",
                    "Aplicar um ou dois princípios orientadores mais relevantes à decisão específica",
                    "Aplicar o princípio “Foco no Valor” e mais um ou dois mais relevantes à decisão específica",
                    "Revisar cada princípio orientador para decidir a relevância em relação à decisão específica"
                ],
                correctAnswer: "Revisar cada princípio orientador para decidir a relevância em relação à decisão específica"
            },
            {
                question: "Que princípio orientador ITIL recomenda o uso de serviços, processos e ferramentas existentes para melhorar o serviço?",
                options: [
                    "Progredir Iterativamente com feedback",
                    "Manter de forma simples e prática",
                    "Começar de onde você está",
                    "Foco no valor"
                ],
                correctAnswer: "Começar de onde você está"
            },
            {
                question: "Qual é o principal uso de um calendário de mudanças?",
                options: [
                    "Ajudar a planejar, autorizar e programar mudanças emergenciais",
                    "Publicar uma lista de requisições de serviço que os usuários podem selecionar",
                    "Garantir que uma única autoridade de mudança revise todas as mudanças",
                    "Ajudar a planejar mudanças, auxiliar na comunicação e evitar conflitos"
                ],
                correctAnswer: "Ajudar a planejar mudanças, auxiliar na comunicação e evitar conflitos"
            }
        ];

        let currentQuestionIndex = 0;
        let correctAnswersCount = 0;
        let incorrectAnswersCount = 0;

        const questionContainer = document.getElementById('question-container');
        const optionContainer = document.getElementById('option-container');
        const resultContainer = document.getElementById('result');
        const scoreContainer = document.getElementById('score');
        const finalMessageContainer = document.getElementById('final-message');
        const nextQuestionButton = document.getElementById('next-question-button');
        const restartButton = document.getElementById('restart-button');

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function loadQuestion() {
            resultContainer.textContent = "";
            optionContainer.innerHTML = "";
            finalMessageContainer.textContent = "";

            const currentQuestion = questions[currentQuestionIndex];
            questionContainer.textContent = currentQuestion.question;

            shuffle(currentQuestion.options);

            currentQuestion.options.forEach(option => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                const radio = document.createElement('input');
                radio.type = 'radio';
                radio.name = 'option';
                radio.value = option;
                const label = document.createElement('label');
                label.textContent = option;
                label.prepend(radio);
                optionElement.appendChild(label);
                optionContainer.appendChild(optionElement);
            });
        }

        function checkAnswer() {
            const selectedOption = document.querySelector('input[name="option"]:checked');
            if (selectedOption) {
                const answer = selectedOption.value;
                if (answer === questions[currentQuestionIndex].correctAnswer) {
                    resultContainer.textContent = "Correto!";
                    resultContainer.style.color = "green";
                    correctAnswersCount++;
                } else {
                    resultContainer.textContent = "Incorreto! A resposta correta é: " + questions[currentQuestionIndex].correctAnswer;
                    resultContainer.style.color = "red";
                    incorrectAnswersCount++;
                }
                scoreContainer.textContent = `Acertos: ${correctAnswersCount} | Erros: ${incorrectAnswersCount}`;
            } else {
                resultContainer.textContent = "Por favor, selecione uma opção.";
                resultContainer.style.color = "orange";
            }
        }

        function displayFinalMessage() {
            if (correctAnswersCount >= 1) {
                finalMessageContainer.textContent = "VOCÊ FOI APROVADO, PARABÉNS!";
                finalMessageContainer.style.color = "green";
            } else {
                finalMessageContainer.textContent = "VOCÊ FOI REPROVADO!";
                finalMessageContainer.style.color = "red";
            }
            restartButton.style.display = "block";
        }

        nextQuestionButton.addEventListener('click', function() {
            checkAnswer();
            currentQuestionIndex++;
            if (currentQuestionIndex >= questions.length) {
                displayFinalMessage();
                nextQuestionButton.style.display = "none";
            } else {
                loadQuestion();
            }
        });

        restartButton.addEventListener('click', function() {
            correctAnswersCount = 0;
            incorrectAnswersCount = 0;
            currentQuestionIndex = 0;
            shuffle(questions);  // Embaralha a ordem das perguntas
            questions.forEach(question => shuffle(question.options));  // Embaralha as opções de cada pergunta
            loadQuestion();
            scoreContainer.textContent = "Acertos: 0 | Erros: 0";
            restartButton.style.display = "none";
            nextQuestionButton.style.display = "block";
        });

        loadQuestion();  // Carrega a primeira pergunta
    </script>
</body>
</html>
